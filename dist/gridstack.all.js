!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],e):"object"==typeof exports?exports.GridStack=e(require("jQuery")):t.GridStack=e(t.jQuery)}(window,(function(t){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"d",(function(){return n})),i.d(e,"e",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return h}));
// utils.ts 2.0.2 @preserve
var s=function(){return(s=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t,e,i,s,o){var n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return console.warn("gridstack.js: Function `"+i+"` is deprecated in "+o+" and has been replaced with `"+s+"`. It will be **completely** removed in v1.0"),e.apply(t,n)};return n.prototype=e.prototype,n}function n(t,e,i,s){void 0!==t[e]&&(t[i]=t[e],console.warn("gridstack.js: Option `"+e+"` is deprecated in "+s+" and has been replaced with `"+i+"`. It will be **completely** removed in v1.0"))}function r(t,e,i,s){void 0!==t[e]&&console.warn("gridstack.js: Option `"+e+"` is deprecated in "+i+s)}function a(t,e,i,s){var o=t.getAttribute(e);null!==o&&(t.setAttribute(i,o),console.warn("gridstack.js: attribute `"+e+"`="+o+" is deprecated on this object in "+s+" and has been replaced with `"+i+"`. It will be **completely** removed in v1.0"))}var h=function(){function t(){}return t.isIntercepted=function(t,e){return!(t.x+t.width<=e.x||e.x+e.width<=t.x||t.y+t.height<=e.y||e.y+e.height<=t.y)},t.sort=function(t,e,i){if(!i){var s=t.map((function(t){return t.x+t.width}));i=Math.max.apply(Math,s)}return-1===e?t.sort((function(t,e){return e.x+e.y*i-(t.x+t.y*i)})):t.sort((function(t,e){return t.x+t.y*i-(e.x+e.y*i)}))},t.createStylesheet=function(t,e){var i=document.createElement("style");return i.setAttribute("type","text/css"),i.setAttribute("data-gs-style-id",t),i.styleSheet?i.styleSheet.cssText="":i.appendChild(document.createTextNode("")),e?e.insertBefore(i,e.firstChild):(e=document.getElementsByTagName("head")[0]).appendChild(i),i.sheet},t.removeStylesheet=function(t){var e=document.querySelector("STYLE[data-gs-style-id="+t+"]");e&&e.parentNode&&e.parentNode.removeChild(e)},t.addCSSRule=function(t,e,i){"function"==typeof t.addRule?t.addRule(e,i):"function"==typeof t.insertRule&&t.insertRule(e+"{"+i+"}")},t.toBool=function(t){return"boolean"==typeof t?t:"string"==typeof t?!(""===(t=t.toLowerCase())||"no"===t||"false"===t||"0"===t):Boolean(t)},t.toNumber=function(t){return null===t||0===t.length?null:Number(t)},t.parseHeight=function(t){var e,i="px";if("string"==typeof t){var s=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!s)throw new Error("Invalid height");i=s[2]||"px",e=parseFloat(s[1])}else e=t;return{height:e,unit:i}},t.defaults=function(t){for(var e=this,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return i.forEach((function(i){for(var s in i){if(!i.hasOwnProperty(s))return;null===t[s]||void 0===t[s]?t[s]=i[s]:"object"==typeof i[s]&&"object"==typeof t[s]&&e.defaults(t[s],i[s])}})),t},t.clone=function(t){return s({},t)},t.closestByClass=function(e,i){return(e=e.parentElement)?e.classList.contains(i)?e:t.closestByClass(e,i):null},t.throttle=function(t,e){var i=this,s=!1;return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];s||(t.apply(i,o),s=!0,setTimeout((function(){return s=!1}),e))}},t.removePositioningStyles=function(t){var e=t.style;e.position&&e.removeProperty("position"),e.left&&e.removeProperty("left"),e.top&&e.removeProperty("top"),e.width&&e.removeProperty("width"),e.height&&e.removeProperty("height")},t.getScrollParent=function(t){return null===t?null:t.scrollHeight>t.clientHeight?t:this.getScrollParent(t.parentElement)},t.updateScrollPosition=function(t,e,i){var s=t.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;if(s.top<0||s.bottom>o){var n=s.bottom-o,r=s.top,a=this.getScrollParent(t);if(null!==a){var h=a.scrollTop;s.top<0&&i<0?t.offsetHeight>o?a.scrollTop+=i:a.scrollTop+=Math.abs(r)>Math.abs(i)?i:r:i>0&&(t.offsetHeight>o?a.scrollTop+=i:a.scrollTop+=n>i?i:n),e.top+=a.scrollTop-h}}},t}()},function(e,i){e.exports=t},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));
// gridstack-dd.ts 2.0.2 @preserve
var s=function(){function t(t){this.grid=t}return t.registerPlugin=function(e){t.registeredPlugins.push(e)},t.get=function(){return t.registeredPlugins[0]||t},t.prototype.remove=function(t){return this.draggable(t,"destroy").resizable(t,"destroy"),t.gridstackNode&&delete t.gridstackNode._initDD,this},t.prototype.resizable=function(t,e,i,s){return this},t.prototype.draggable=function(t,e,i,s){return this},t.prototype.dragIn=function(t,e){return this},t.prototype.isDraggable=function(t){return!1},t.prototype.droppable=function(t,e,i,s){return this},t.prototype.isDroppable=function(t){return!1},t.prototype.on=function(t,e,i){return this},t.prototype.off=function(t,e){return this},t.registeredPlugins=[],t}()},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var s=i(0),o=function(){function t(e,i,o,n,r){void 0===e&&(e=12),void 0===o&&(o=!1),void 0===n&&(n=0),void 0===r&&(r=[]),this.addedNodes=[],this.removedNodes=[],this.getGridHeight=Object(s.b)(this,t.prototype.getRow,"getGridHeight","getRow","v1.0.0"),this.column=e,this.onchange=i,this._float=o,this.maxRow=n,this.nodes=r}return t.prototype.batchUpdate=function(){return this.batchMode||(this.batchMode=!0,this._prevFloat=this._float,this._float=!0),this},t.prototype.commit=function(){return this.batchMode?(this.batchMode=!1,this._float=this._prevFloat,delete this._prevFloat,this._packNodes(),this._notify(),this):this},t.prototype._fixCollisions=function(t){this._sortNodes(-1);var e=t,i=Boolean(this.nodes.find((function(t){return t.locked})));for(this.float||i||(e={x:0,y:t.y,width:this.column,height:t.height});;){var o=this.nodes.find((function(i){return i!==t&&s.a.isIntercepted(i,e)}),{node:t,nn:e});if(!o)return this;if(!(o.locked?this.moveNode(t,t.x,o.y+o.height,t.width,t.height,!0):this.moveNode(o,o.x,t.y+t.height,o.width,o.height,!0)))return this}},t.prototype.isAreaEmpty=function(t,e,i,o){var n={x:t||0,y:e||0,width:i||1,height:o||1};return!this.nodes.find((function(t){return s.a.isIntercepted(t,n)}))},t.prototype.compact=function(){var t=this;if(0===this.nodes.length)return this;this.batchUpdate(),this._sortNodes();var e=this.nodes;return this.nodes=[],e.forEach((function(e){e.noMove||e.locked||(e.autoPosition=!0),t.addNode(e,!1),e._dirty=!0})),this.commit(),this},Object.defineProperty(t.prototype,"float",{get:function(){return this._float||!1},set:function(t){this._float!==t&&(this._float=t||!1,t||(this._packNodes(),this._notify()))},enumerable:!0,configurable:!0}),t.prototype._sortNodes=function(t){return this.nodes=s.a.sort(this.nodes,t,this.column),this},t.prototype._packNodes=function(){var t=this;return this._sortNodes(),this.float?this.nodes.forEach((function(e,i){if(e._updating||void 0===e._packY||e.y===e._packY)return t;for(var o=e.y,n=function(){var n={x:e.x,y:o,width:e.width,height:e.height};t.nodes.slice(0,i).find((function(t){return s.a.isIntercepted(n,t)}),{n:e,newY:o})||(e._dirty=!0,e.y=o),--o};o>=e._packY;)n()})):this.nodes.forEach((function(e,i){if(e.locked)return t;for(var o=function(){var o=e.y-1,n=0===i,r={x:e.x,y:o,width:e.width,height:e.height};i>0&&(n=void 0===t.nodes.slice(0,i).find((function(t){return s.a.isIntercepted(r,t)}),{n:e,newY:o}));if(!n)return"break";e._dirty=e.y!==o,e.y=o};e.y>0;){if("break"===o())break}})),this},t.prototype.prepareNode=function(e,i){(e=e||{})._id=e._id||t._idSeq++,void 0!==e.x&&void 0!==e.y&&null!==e.x&&null!==e.y||(e.autoPosition=!0);var o={width:1,height:1,x:0,y:0};return(e=s.a.defaults(e,o)).autoPosition=e.autoPosition||!1,e.noResize=e.noResize||!1,e.noMove=e.noMove||!1,Number.isNaN(e.x)&&(e.x=o.x,e.autoPosition=!0),Number.isNaN(e.y)&&(e.y=o.y,e.autoPosition=!0),Number.isNaN(e.width)&&(e.width=o.width),Number.isNaN(e.height)&&(e.height=o.height),e.maxWidth&&(e.width=Math.min(e.width,e.maxWidth)),e.maxHeight&&(e.height=Math.min(e.height,e.maxHeight)),e.minWidth&&(e.width=Math.max(e.width,e.minWidth)),e.minHeight&&(e.height=Math.max(e.height,e.minHeight)),e.width>this.column?e.width=this.column:e.width<1&&(e.width=1),this.maxRow&&e.height>this.maxRow?e.height=this.maxRow:e.height<1&&(e.height=1),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.width>this.column&&(i?e.width=this.column-e.x:e.x=this.column-e.width),this.maxRow&&e.y+e.height>this.maxRow&&(i?e.height=this.maxRow-e.y:e.y=this.maxRow-e.height),e},t.prototype.getDirtyNodes=function(t){if(t){var e=[];return this.nodes.forEach((function(t){t._dirty&&(t.y===t._origY&&t.x===t._origX&&t.width===t._origW&&t.height===t._origH?delete t._dirty:e.push(t))})),e}return this.nodes.filter((function(t){return t._dirty}))},t.prototype._notify=function(t,e){if(void 0===e&&(e=!0),this.batchMode)return this;var i=(t=void 0===t?[]:Array.isArray(t)?t:[t]).concat(this.getDirtyNodes());return this.onchange&&this.onchange(i,e),this},t.prototype.cleanNodes=function(){return this.batchMode||this.nodes.forEach((function(t){delete t._dirty})),this},t.prototype.addNode=function(t,e){if(void 0===e&&(e=!1),(t=this.prepareNode(t)).autoPosition){this._sortNodes();for(var i=function(e){var i=e%o.column,n=Math.floor(e/o.column);if(i+t.width>o.column)return"continue";var r={x:i,y:n,width:t.width,height:t.height};return o.nodes.find((function(t){return s.a.isIntercepted(r,t)}),{x:i,y:n,node:t})?void 0:(t.x=i,t.y=n,delete t.autoPosition,"break")},o=this,n=0;;++n){if("break"===i(n))break}}return this.nodes.push(t),e&&this.addedNodes.push(t),this._fixCollisions(t),this._packNodes(),this._notify(),t},t.prototype.removeNode=function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!1),i&&this.removedNodes.push(t),t._id=null,this.nodes.splice(this.nodes.findIndex((function(e){return e===t})),1),this.float||this._packNodes(),this._notify(t,e),this},t.prototype.removeAll=function(t){return void 0===t&&(t=!0),delete this._layouts,0===this.nodes.length||(t&&this.nodes.forEach((function(t){t._id=null})),this.removedNodes=this.nodes,this.nodes=[],this._notify(this.removedNodes,t)),this},t.prototype.canMoveNode=function(e,i,o,n,r){if(!this.isNodeChangedPosition(e,i,o,n,r))return!1;var a,h=Boolean(this.nodes.find((function(t){return t.locked})));if(!this.maxRow&&!h)return!0;var l=new t(this.column,null,this.float,0,this.nodes.map((function(t){return t===e?a=s.a.clone(t):s.a.clone(t)})));if(!a)return!0;l.moveNode(a,i,o,n,r);var d=!0;return h&&(d=d&&!Boolean(l.nodes.find((function(t){return t!==a&&Boolean(t.locked)&&Boolean(t._dirty)})))),this.maxRow&&(d=d&&l.getRow()<=this.maxRow),d},t.prototype.canBePlacedWithRespectToHeight=function(e){if(!this.maxRow)return!0;var i=new t(this.column,null,this.float,0,this.nodes.map((function(t){return s.a.clone(t)})));return i.addNode(e),i.getRow()<=this.maxRow},t.prototype.isNodeChangedPosition=function(t,e,i,s,o){return"number"!=typeof e&&(e=t.x),"number"!=typeof i&&(i=t.y),"number"!=typeof s&&(s=t.width),"number"!=typeof o&&(o=t.height),t.maxWidth&&(s=Math.min(s,t.maxWidth)),t.maxHeight&&(o=Math.min(o,t.maxHeight)),t.minWidth&&(s=Math.max(s,t.minWidth)),t.minHeight&&(o=Math.max(o,t.minHeight)),t.x!==e||t.y!==i||t.width!==s||t.height!==o},t.prototype.moveNode=function(t,e,i,s,o,n){if(t.locked)return null;"number"!=typeof e&&(e=t.x),"number"!=typeof i&&(i=t.y),"number"!=typeof s&&(s=t.width),"number"!=typeof o&&(o=t.height);var r=t.width!==s||t.height!==o,a={x:e,y:i,width:s,height:o,maxWidth:t.maxWidth,maxHeight:t.maxHeight,minWidth:t.minWidth,minHeight:t.minHeight};return a=this.prepareNode(a,r),t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height?null:(t._dirty=!0,t.x=t._lastTriedX=a.x,t.y=t._lastTriedY=a.y,t.width=t._lastTriedWidth=a.width,t.height=t._lastTriedHeight=a.height,this._fixCollisions(t),n||(this._packNodes(),this._notify()),t)},t.prototype.getRow=function(){return this.nodes.reduce((function(t,e){return Math.max(t,e.y+e.height)}),0)},t.prototype.beginUpdate=function(t){return t._updating||(t._updating=!0,this.nodes.forEach((function(t){t._packY=t.y}))),this},t.prototype.endUpdate=function(){var t=this.nodes.find((function(t){return t._updating}));return t&&(delete t._updating,this.nodes.forEach((function(t){delete t._packY}))),this},t.prototype.save=function(t){void 0===t&&(t=!0);var e=[];return s.a.sort(this.nodes),this.nodes.forEach((function(i){var s={};for(var o in i)"_"!==o[0]&&null!==i[o]&&void 0!==i[o]&&(s[o]=i[o]);t||delete s.el,delete s.grid,s.autoPosition||delete s.autoPosition,s.noResize||delete s.noResize,s.noMove||delete s.noMove,s.locked||delete s.locked,e.push(s)})),e},t.prototype.layoutsNodesChange=function(t){var e=this;return!this._layouts||this._ignoreLayoutsNodeChange||this._layouts.forEach((function(i,s){if(!i||s===e.column)return e;s<e.column?e._layouts[s]=void 0:t.forEach((function(t){var o=i.find((function(e){return e._id===t._id}));if(!o)return e;var n=s/e.column;t.y!==t._origY&&(o.y+=t.y-t._origY),t.x!==t._origX&&(o.x=Math.round(t.x*n)),t.width!==t._origW&&(o.width=Math.round(t.width*n))}))})),this},t.prototype.updateNodeWidths=function(t,e,i){var o=this;if(!this.nodes.length||t===e)return this;var n=[];if(this.nodes.forEach((function(t,e){n[e]={x:t.x,y:t.y,width:t.width,_id:t._id}})),this._layouts=this._layouts||[],this._layouts[t]=n,1===e&&i&&i.length){var r=0;i.forEach((function(t){t.x=0,t.width=1,t.y=Math.max(t.y,r),r=t.y+t.height}))}else i=s.a.sort(this.nodes,-1,t);var a=this._layouts[e]||[],h=this._layouts.length-1;0===a.length&&e>t&&e<h&&(a=this._layouts[h]||[]).length&&(t=h,a.forEach((function(t){var e=i.findIndex((function(e){return e._id===t._id}));-1!==e&&(i[e].x=t.x,i[e].y=t.y,i[e].width=t.width)})),a=[]);var l=[];a.forEach((function(t){var e=i.findIndex((function(e){return e&&e._id===t._id}));-1!==e&&(i[e].x=t.x,i[e].y=t.y,i[e].width=t.width,l.push(i[e]),i[e]=null)}));var d=e/t;return i.forEach((function(i){if(!i)return o;i.x=1===e?0:Math.round(i.x*d),i.width=1===e||1===t?1:Math.round(i.width*d)||1,l.push(i)})),l=s.a.sort(l,-1,e),this._ignoreLayoutsNodeChange=!0,this.batchUpdate(),this.nodes=[],l.forEach((function(t){o.addNode(t,!1),t._dirty=!0}),this),this.commit(),delete this._ignoreLayoutsNodeChange,this},t.prototype.saveInitial=function(){return this.nodes.forEach((function(t){t._origX=t.x,t._origY=t.y,t._origW=t.width,t._origH=t.height,delete t._dirty})),this},t.prototype.cleanupNode=function(t){for(var e in t)"_"===e[0]&&delete t[e]},t._idSeq=1,t}();
// gridstack-engine.ts 2.0.2 @preserve
},function(t,e,i){"use strict";i.r(e),i.d(e,"GridStackDDJQueryUI",(function(){return d}));var s=i(2),o=i(1);i.d(e,"$",(function(){return o}));var n=i(5);for(var r in n)["default","$","GridStackDDJQueryUI"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);
// gridstack-dd-jqueryui.ts 2.0.2 @preserve
var a,h=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(){return(l=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(t){function e(e){return t.call(this,e)||this}return h(e,t),e.prototype.resizable=function(t,e,i,s){var n=o(t);if("enable"===e)n.resizable().resizable(e);else if("disable"===e||"destroy"===e)n.data("ui-resizable")&&n.resizable(e);else if("option"===e)n.resizable(e,i,s);else{var r=n.data("gs-resize-handles")?n.data("gs-resize-handles"):this.grid.opts.resizable.handles;n.resizable(l({},this.grid.opts.resizable,{handles:r},{start:e.start,stop:e.stop,resize:e.resize}))}return this},e.prototype.draggable=function(t,e,i,s){var n=o(t);return"enable"===e?n.draggable().draggable("enable"):"disable"===e||"destroy"===e?n.data("ui-draggable")&&n.draggable(e):"option"===e?n.draggable(e,i,s):n.draggable(l({},this.grid.opts.draggable,{containment:this.grid.opts._isNested&&!this.grid.opts.dragOut?o(this.grid.el).parent():this.grid.opts.draggable.containment||null,start:e.start,stop:e.stop,drag:e.drag})),this},e.prototype.dragIn=function(t,e){return o(t).draggable(e),this},e.prototype.droppable=function(t,e,i,s){var n=o(t);return"function"!=typeof e.accept||e._accept||(e._accept=e.accept,e.accept=function(t){return e._accept(t.get(0))}),n.droppable(e,i,s),this},e.prototype.isDroppable=function(t){var e=o(t);return Boolean(e.data("ui-droppable"))},e.prototype.isDraggable=function(t){var e=o(t);return Boolean(e.data("ui-draggable"))},e.prototype.on=function(t,e,i){return o(t).on(e,(function(t,e){i(t,e.draggable?e.draggable[0]:t.target,e.helper?e.helper[0]:null)})),this},e.prototype.off=function(t,e){return o(t).off(e),this},e}(s.a);s.a.registerPlugin(d)},function(t,e){
/*! jQuery UI - v1.12.1 - 2019-11-20
* http://jqueryui.com
* Includes: widget.js, data.js, disable-selection.js, scroll-parent.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/mouse.js
* Copyright jQuery Foundation and other contributors; Licensed MIT
*/
!function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,i=0,s=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(i){var s,o,n;for(n=0;null!=(o=i[n]);n++)try{(s=t._data(o,"events"))&&s.remove&&t(o).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,s){var o,n,r,a={},h=e.split(".")[0],l=h+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},o=t[h][e],n=t[h][e]=function(t,e){if(!this._createWidget)return new n(t,e);arguments.length&&this._createWidget(t,e)},t.extend(n,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(r=new i).options=t.widget.extend({},r.options),t.each(s,(function(e,s){t.isFunction(s)?a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,n=this._superApply;return this._super=t,this._superApply=o,e=s.apply(this,arguments),this._super=i,this._superApply=n,e}}():a[e]=s})),n.prototype=t.widget.extend(r,{widgetEventPrefix:o&&r.widgetEventPrefix||e},a,{constructor:n,namespace:h,widgetName:e,widgetFullName:l}),o?(t.each(o._childConstructors,(function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,n,i._proto)})),delete o._childConstructors):i._childConstructors.push(n),t.widget.bridge(e,n),n},t.widget.extend=function(e){for(var i,o,n=s.call(arguments,1),r=0,a=n.length;r<a;r++)for(i in n[r])o=n[r][i],n[r].hasOwnProperty(i)&&void 0!==o&&(t.isPlainObject(o)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):e[i]=o);return e},t.widget.bridge=function(e,i){var o=i.prototype.widgetFullName||e;t.fn[e]=function(n){var r="string"==typeof n,a=s.call(arguments,1),h=this;return r?this.length||"instance"!==n?this.each((function(){var i,s=t.data(this,o);return"instance"===n?(h=s,!1):s?t.isFunction(s[n])&&"_"!==n.charAt(0)?(i=s[n].apply(s,a))!==s&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+n+"'")})):h=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each((function(){var e=t.data(this,o);e?(e.option(n||{}),e._init&&e._init()):t.data(this,o,new i(n,this))}))),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,o,n,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},s=e.split("."),e=s.shift(),s.length){for(o=r[e]=t.widget.extend({},this.options[e]),n=0;n<s.length-1;n++)o[s[n]]=o[s[n]]||{},o=o[s[n]];if(e=s.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,o;for(i in e)o=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&o&&o.length&&(s=t(o.get()),this._removeClass(o,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],s=this;function o(o,n){var r,a;for(a=0;a<o.length;a++)r=s.classesElementLookup[o[a]]||t(),r=e.add?t(t.unique(r.get().concat(e.element.get()))):t(r.not(e.element).get()),s.classesElementLookup[o[a]]=r,i.push(o[a]),n&&e.classes[o[a]]&&i.push(e.classes[o[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(s,o){-1!==t.inArray(e.target,o)&&(i.classesElementLookup[s]=t(o.not(e.target).get()))}))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var o="string"==typeof t||null===t,n={extra:o?e:i,keys:o?t:e,element:o?this.element:t,add:s};return n.element.toggleClass(this._classes(n),s),this},_on:function(e,i,s){var o,n=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=o=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,o=this.widget()),t.each(s,(function(s,r){function a(){if(e||!0!==n.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof r?n[r]:r).apply(n,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+n.eventNamespace,d=h[2];d?o.on(l,d,a):i.on(l,a)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var o,n,r=this.options[e];if(s=s||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(o in n)o in i||(i[o]=n[o]);return this.element.trigger(i,s),!(t.isFunction(r)&&!1===r.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(s,o,n){var r;"string"==typeof o&&(o={effect:o});var a=o?!0===o||"number"==typeof o?i:o.effect||i:e;"number"==typeof(o=o||{})&&(o={duration:o}),r=!t.isEmptyObject(o),o.complete=n,o.delay&&s.delay(o.delay),r&&t.effects&&t.effects.effect[a]?s[e](o):a!==e&&s[a]?s[a](o.duration,o.easing,n):s.queue((function(i){t(this)[e](),n&&n.call(s[0]),i()}))}})),t.widget,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:(o="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(o+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter((function(){var e=t(this);return(!s||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==i&&n.length?n:t(this[0].ownerDocument||document)},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var o,n=!1;t(document).on("mouseup",(function(){n=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!n){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(s&&!o&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),n=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,n=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var o,n=t.ui[e].prototype;for(o in s)n.plugins[o]=n.plugins[o]||[],n.plugins[o].push([i,s[o]])},call:function(t,e,i,s){var o,n=t.plugins[e];if(n&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<n.length;o++)t.options[n[o][0]]&&n[o][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",e,s))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",e)&&i._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),o=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options,n=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(s=(i=t(o.containment))[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=o.containment:this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,o,n,r=this.options,a=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,l=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,h=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(h=this.originalPageX),"x"===r.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var o=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each((function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,o))}))},stop:function(e,i,s){var o=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,(function(){this.isOver?(this.isOver=0,s.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,o))}))},drag:function(e,i,s){t.each(s.sortables,(function(){var o=!1,n=this;n.positionAbs=s.positionAbs,n.helperProportions=s.helperProportions,n.offset.click=s.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(s.sortables,(function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o}))),o?(n.isOver||(n.isOver=1,s._parent=i.helper.parent(),n.currentItem=i.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return i.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=s.offset.click.top,n.offset.click.left=s.offset.click.left,n.offset.parent.left-=s.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=s.offset.parent.top-n.offset.parent.top,s._trigger("toSortable",e),s.dropped=n.element,t.each(s.sortables,(function(){this.refreshPositions()})),s.currentItem=s.element,n.fromOutside=s),n.currentItem&&(n._mouseDrag(e),i.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var o=t("body"),n=s.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,i,s){var o=s.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var o=t(i.helper),n=s.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,i,s){var o=s.options;o._opacity&&t(i.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var o=s.options,n=!1,r=s.scrollParentNotHidden[0],a=s.document[0];r!==a&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(s.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-s.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(s.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-s.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(a).scrollTop()<o.scrollSensitivity?n=t(a).scrollTop(t(a).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<o.scrollSensitivity&&(n=t(a).scrollTop(t(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(a).scrollLeft()<o.scrollSensitivity?n=t(a).scrollLeft(t(a).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<o.scrollSensitivity&&(n=t(a).scrollLeft(t(a).scrollLeft()+o.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var o=s.options;s.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})}))},drag:function(e,i,s){var o,n,r,a,h,l,d,p,u,c,g=s.options,f=g.snapTolerance,m=i.offset.left,v=m+s.helperProportions.width,_=i.offset.top,y=_+s.helperProportions.height;for(u=s.snapElements.length-1;u>=0;u--)l=(h=s.snapElements[u].left-s.margins.left)+s.snapElements[u].width,p=(d=s.snapElements[u].top-s.margins.top)+s.snapElements[u].height,v<h-f||m>l+f||y<d-f||_>p+f||!t.contains(s.snapElements[u].item.ownerDocument,s.snapElements[u].item)?(s.snapElements[u].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(d-y)<=f,n=Math.abs(p-_)<=f,r=Math.abs(h-v)<=f,a=Math.abs(l-m)<=f,o&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),n&&(i.position.top=s._convertPositionTo("relative",{top:p,left:0}).top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),c=o||n||r||a,"outer"!==g.snapMode&&(o=Math.abs(d-_)<=f,n=Math.abs(p-y)<=f,r=Math.abs(h-m)<=f,a=Math.abs(l-v)<=f,o&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),n&&(i.position.top=s._convertPositionTo("relative",{top:p-s.helperProportions.height,left:0}).top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[u].snapping&&(o||n||r||a||c)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=o||n||r||a||c)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var o,n=s.options,r=t.makeArray(t(n.stack)).sort((function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)}));r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each((function(e){t(this).css("zIndex",o+e)})),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var o=t(i.helper),n=s.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,i,s){var o=s.options;o._zIndex&&t(i.helper).css("zIndex",o._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,o=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var i=t(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&r(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e))return o=!0,!1})),!o&&!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var r=t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,s,o){if(!i.offset)return!1;var n=(e.positionAbs||e.position.absolute).left+e.margins.left,r=(e.positionAbs||e.position.absolute).top+e.margins.top,a=n+e.helperProportions.width,h=r+e.helperProportions.height,l=i.offset.left,d=i.offset.top,p=l+i.proportions().width,u=d+i.proportions().height;switch(s){case"fit":return l<=n&&a<=p&&d<=r&&h<=u;case"intersect":return l<n+e.helperProportions.width/2&&a-e.helperProportions.width/2<p&&d<r+e.helperProportions.height/2&&h-e.helperProportions.height/2<u;case"pointer":return t(o.pageY,d,i.proportions().height)&&t(o.pageX,l,i.proportions().width);case"touch":return(r>=d&&r<=u||h>=d&&h<=u||r<d&&h>u)&&(n>=l&&n<=p||a>=l&&a<=p||n<l&&a>p);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s,o,n=t.ui.ddmanager.droppables[e.options.scope]||[],r=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<n.length;s++)if(!(n[s].options.disabled||e&&!n[s].accept.call(n[s].element[0],e.currentItem||e.element))){for(o=0;o<a.length;o++)if(a[o]===n[s].element[0]){n[s].proportions().height=0;continue t}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions({width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&r(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}))},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,o,n,a=r(e,this,this.options.tolerance,i),h=!a&&this.isover?"isout":a&&!this.isover?"isover":null;h&&(this.options.greedy&&(o=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter((function(){return t(this).droppable("instance").options.scope===o}))).length&&((s=t(n[0]).droppable("instance")).greedyChild="isover"===h)),s&&"isover"===h&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,i),s&&"isout"===h&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}}))},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s,o=i&&"left"===i?"scrollLeft":"scrollTop";return e[o]>0||(e[o]=1,s=e[o]>0,e[o]=0,s)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",(function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())})).on("mouseleave",(function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,s,o,n,r=this.options,a=this;if(this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;i<s.length;i++)o="ui-resizable-"+(e=t.trim(s[i])),n=t("<div>"),this._addClass(n,"ui-resizable-handle "+o),n.css({zIndex:r.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(n);this._renderAxis=function(e){var i,s,o,n;for(i in e=e||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),n=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")})),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,o=!1;for(i in this.handles)((s=t(this.handles[i])[0])===e.target||t.contains(s,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var i,s,o,n=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(i+=t(n.containment).scrollLeft()||0,s+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,o=this.originalMousePosition,n=this.axis,r=e.pageX-o.left||0,a=e.pageY-o.top||0,h=this._change[n];return this._updatePrevProperties(),!!h&&(i=h.apply(this,[e,r,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,s,o,n,r,a,h,l=this.options;return this._helper&&(o=(s=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:this.sizeDiff.height,n=s?0:this.sizeDiff.width,r={width:this.helper.width()-n,height:this.helper.height()-o},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,h=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,l.animate||this.element.css(t.extend(r,{top:h,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,o,n,r=this.options;n={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,i=n.maxHeight*this.aspectRatio,o=n.maxWidth/this.aspectRatio,e>n.minWidth&&(n.minWidth=e),s>n.minHeight&&(n.minHeight=s),i<n.maxWidth&&(n.maxWidth=i),o<n.maxHeight&&(n.maxHeight=o)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,n=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return n&&(t.width=e.minWidth),r&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),n&&l&&(t.left=a-e.minWidth),s&&l&&(t.left=a-e.maxWidth),r&&d&&(t.top=h-e.minHeight),o&&d&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(o[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,o=i._proportionallyResizeElements,n=o.length&&/textarea/i.test(o[0].nodeName),r=n&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,a=n?0:i.sizeDiff.width,h={width:i.size.width-a,height:i.size.height-r},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,d=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,d&&l?{top:d,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};o&&o.length&&t(o[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,o,n,r,a,h=t(this).resizable("instance"),l=h.options,d=h.element,p=l.containment,u=p instanceof t?p.get(0):/parent/.test(p)?d.parent().get(0):p;u&&(h.containerElement=t(u),/document/.test(p)||p===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(u),i=[],t(["Top","Right","Left","Bottom"]).each((function(t,s){i[t]=h._num(e.css("padding"+s))})),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,o=h.containerSize.height,n=h.containerSize.width,r=h._hasScroll(u,"left")?u.scrollWidth:n,a=h._hasScroll(u)?u.scrollHeight:o,h.parentData={element:u,left:s.left,top:s.top,width:r,height:a}))},resize:function(e){var i,s,o,n,r=t(this).resizable("instance"),a=r.options,h=r.containerOffset,l=r.position,d=r._aspectRatio||e.shiftKey,p={top:0,left:0},u=r.containerElement,c=!0;u[0]!==document&&/static/.test(u.css("position"))&&(p=h),l.left<(r._helper?h.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-h.left:r.position.left-p.left),d&&(r.size.height=r.size.width/r.aspectRatio,c=!1),r.position.left=a.helper?h.left:0),l.top<(r._helper?h.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-h.top:r.position.top),d&&(r.size.width=r.size.height*r.aspectRatio,c=!1),r.position.top=r._helper?h.top:0),o=r.containerElement.get(0)===r.element.parent().get(0),n=/relative|absolute/.test(r.containerElement.css("position")),o&&n?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-p.left:r.offset.left-h.left)),s=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-p.top:r.offset.top-h.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,d&&(r.size.height=r.size.width/r.aspectRatio,c=!1)),s+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-s,d&&(r.size.width=r.size.height*r.aspectRatio,c=!1)),c||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,o=e.containerPosition,n=e.containerElement,r=t(e.helper),a=r.offset(),h=r.outerWidth()-e.sizeDiff.width,l=r.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(n.css("position"))&&t(this).css({left:a.left-o.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(n.css("position"))&&t(this).css({left:a.left-o.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each((function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})}))},resize:function(e,i){var s=t(this).resizable("instance"),o=s.options,n=s.originalSize,r=s.originalPosition,a={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-r.top||0,left:s.position.left-r.left||0};t(o.alsoResize).each((function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),o={},n=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(n,(function(t,e){var i=(s[e]||0)+(a[e]||0);i&&i>=0&&(o[e]=i||null)})),e.css(o)}))},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,o=i.size,n=i.originalSize,r=i.originalPosition,a=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,d=h[1]||1,p=Math.round((o.width-n.width)/l)*l,u=Math.round((o.height-n.height)/d)*d,c=n.width+p,g=n.height+u,f=s.maxWidth&&s.maxWidth<c,m=s.maxHeight&&s.maxHeight<g,v=s.minWidth&&s.minWidth>c,_=s.minHeight&&s.minHeight>g;s.grid=h,v&&(c+=l),_&&(g+=d),f&&(c-=l),m&&(g-=d),/^(se|s|e)$/.test(a)?(i.size.width=c,i.size.height=g):/^(ne)$/.test(a)?(i.size.width=c,i.size.height=g,i.position.top=r.top-u):/^(sw)$/.test(a)?(i.size.width=c,i.size.height=g,i.position.left=r.left-p):((g-d<=0||c-l<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),g-d>0?(i.size.height=g,i.position.top=r.top-u):(g=d-e.height,i.size.height=g,i.position.top=r.top+n.height-g),c-l>0?(i.size.width=c,i.position.left=r.left-p):(c=l-e.width,i.size.width=c,i.position.left=r.left+n.width-c))}}),t.ui.resizable}(jQuery)},function(t,e,i){"use strict";i.r(e),i.d(e,"GridStack",(function(){return l}));var s=i(3),o=i(0),n=i(2);i.d(e,"obsolete",(function(){return o.b})),i.d(e,"obsoleteOpts",(function(){return o.d})),i.d(e,"obsoleteOptsDel",(function(){return o.e})),i.d(e,"obsoleteAttr",(function(){return o.c})),i.d(e,"Utils",(function(){return o.a})),i.d(e,"GridStackEngine",(function(){return s.a})),i.d(e,"GridStackDD",(function(){return n.a}));var r=i(4);for(var a in r)["default","GridStack","obsolete","obsoleteOpts","obsoleteOptsDel","obsoleteAttr","Utils","GridStackEngine","GridStackDD"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return r[t]}))}(a);
// gridstack.ts 2.0.2 @preserve
var h=function(){return(h=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=function(){function t(e,i){var r=this;void 0===i&&(i={}),this._gsEventHandler={},this.setGridWidth=Object(o.b)(this,t.prototype.column,"setGridWidth","column","v0.5.3"),this.setColumn=Object(o.b)(this,t.prototype.column,"setColumn","column","v0.6.4"),this.getGridHeight=Object(o.b)(this,s.a.prototype.getRow,"getGridHeight","getRow","v1.0.0"),this.el=e,i=i||{},Object(o.d)(i,"width","column","v0.5.3"),Object(o.d)(i,"height","maxRow","v0.5.3"),Object(o.d)(i,"verticalMargin","margin","v2.0"),Object(o.e)(i,"oneColumnModeClass","v0.6.3",". Use class `.grid-stack-1` instead"),Object(o.c)(this.el,"data-gs-width","data-gs-column","v0.5.3"),Object(o.c)(this.el,"data-gs-height","data-gs-max-row","v0.5.3"),Object(o.c)(this.el,"data-gs-current-height","data-gs-current-row","v1.0.0"),i.row&&(i.minRow=i.maxRow=i.row,delete i.row);var a=o.a.toNumber(e.getAttribute("data-gs-row")),h={column:o.a.toNumber(e.getAttribute("data-gs-column"))||12,minRow:a||(o.a.toNumber(e.getAttribute("data-gs-min-row"))||0),maxRow:a||(o.a.toNumber(e.getAttribute("data-gs-max-row"))||0),itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,styleInHead:!1,cellHeight:"auto",margin:10,auto:!0,minWidth:768,float:!1,staticGrid:!1,_class:"grid-stack-instance-"+(1e4*Math.random()).toFixed(0),animate:!0,alwaysShowResizeHandle:i.alwaysShowResizeHandle||!1,resizable:{autoHide:!i.alwaysShowResizeHandle,handles:"se"},draggable:{handle:(i.handleClass?"."+i.handleClass:i.handle?i.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"},dragIn:void 0,dragInOptions:{revert:"invalid",handle:".grid-stack-item-content",scroll:!1,appendTo:"body"},disableDrag:!1,disableResize:!1,rtl:"auto",removable:!1,removableOptions:{accept:"."+(i.itemClass||"grid-stack-item")},removeTimeout:2e3,marginUnit:"px",cellHeightUnit:"px",disableOneColumnMode:!1,oneColumnModeDomSort:!1};if(e.getAttribute("data-gs-animate")&&(h.animate=o.a.toBool(e.getAttribute("data-gs-animate"))),this.opts=o.a.defaults(i,h),this.initMargin(),!1===this.opts.ddPlugin?this.opts.ddPlugin=n.a:void 0===this.opts.ddPlugin&&(this.opts.ddPlugin=n.a.get()),this.dd=new this.opts.ddPlugin(this),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===e.style.direction),this.opts.rtl&&this.el.classList.add("grid-stack-rtl"),this.opts._isNested=null!==o.a.closestByClass(this.el,i.itemClass),this.opts._isNested&&this.el.classList.add("grid-stack-nested"),this._isAutoCellHeight="auto"===this.opts.cellHeight,this._isAutoCellHeight){var l=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;this.cellHeight(this.cellWidth()+l,!1)}else this.cellHeight(this.opts.cellHeight,!1);if(this.el.classList.add(this.opts._class),this._setStaticClass(),this._updateStyles(),this.engine=new s.a(this.opts.column,(function(t,e){void 0===e&&(e=!0);var i=0;r.engine.nodes.forEach((function(t){i=Math.max(i,t.y+t.height)})),t.forEach((function(t){var i=t.el;e&&null===t._id?i&&i.parentNode&&i.parentNode.removeChild(i):r._writeAttrs(i,t.x,t.y,t.width,t.height)})),r._updateStyles(!1,i)}),this.opts.float,this.opts.maxRow),this.opts.auto){var d=[];this.getGridItems().forEach((function(t){var e=parseInt(t.getAttribute("data-gs-x")),i=parseInt(t.getAttribute("data-gs-y"));d.push({el:t,i:(Number.isNaN(e)?1e3:e)+(Number.isNaN(i)?1e3:i)*r.opts.column})})),d.sort((function(t){return t.i})).forEach((function(t){r._prepareElement(t.el)}))}this.engine.saveInitial(),this.setAnimation(this.opts.animate);var p=document.createElement("div");p.className="placeholder-content",p.innerHTML=this.opts.placeholderText,this.placeholder=document.createElement("div"),this.placeholder.classList.add(this.opts.placeholderClass,this.opts.itemClass),this.placeholder.appendChild(p),this._updateContainerHeight(),this.onParentResize(),this._setupDragIn(),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateWindowResizeEvent()}return t.init=function(e,i){void 0===e&&(e={}),void 0===i&&(i=".grid-stack");var s=t.getGridElement(i);return s?(s.gridstack||(s.gridstack=new t(s,o.a.clone(e))),s.gridstack):("string"==typeof i?console.error('GridStack.initAll() no grid was found with selector "'+i+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'):console.error("GridStack.init() no grid element was passed."),null)},t.initAll=function(e,i){void 0===e&&(e={}),void 0===i&&(i=".grid-stack");var s=[];return t.getGridElements(i).forEach((function(i){i.gridstack||(i.gridstack=new t(i,o.a.clone(e))),s.push(i.gridstack)})),0===s.length&&console.error('GridStack.initAll() no grid was found with selector "'+i+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'),s},t.prototype.addWidget=function(t,e){if(arguments.length>2){console.warn("gridstack.ts: `addWidget(el, x, y, width...)` is deprecated. Use `addWidget({x, y, width, content, ...})`. It will be removed soon");var i=arguments,s=1,n={x:i[s++],y:i[s++],width:i[s++],height:i[s++],autoPosition:i[s++],minWidth:i[s++],maxWidth:i[s++],minHeight:i[s++],maxHeight:i[s++],id:i[s++]};return this.addWidget(t,n)}function r(t){return void 0!==t.x||void 0!==t.y||void 0!==t.width||void 0!==t.height||void 0!==t.content}var a;if("string"==typeof t)(l=document.implementation.createHTMLDocument()).body.innerHTML=t,a=l.body.children[0];else if(0===arguments.length||1===arguments.length&&r(t)){var l,d=t&&t.content||"";e=t,(l=document.implementation.createHTMLDocument()).body.innerHTML='<div class="grid-stack-item"><div class="grid-stack-item-content">'+d+"</div></div>",a=l.body.children[0]}else a=t;if(e){e=h({},e);var p=this._readAttr(a);o.a.defaults(e,p),this.engine.prepareNode(e),this._writeAttr(a,e)}return this.el.appendChild(a),this.makeWidget(a)},t.prototype.save=function(t){void 0===t&&(t=!0);var e=this.engine.save(t);return t&&e.forEach((function(t){if(t.el){var e=t.el.querySelector(".grid-stack-item-content");t.content=e?e.innerHTML:void 0,t.content||delete t.content,delete t.el}})),e},t.prototype.load=function(e,i){var s=this;void 0===i&&(i=!0);var o=t.Utils.sort(e),n=[];(this.batchUpdate(),i)&&this.engine.nodes.slice().forEach((function(t){o.find((function(e){return t.id===e.id}))||("function"==typeof i?i(t,!1):(n.push(t),s.removeWidget(t.el,!0,!1)))}));o.forEach((function(t){var e=s.engine.nodes.find((function(e){return e.id===t.id}));e?s.update(e.el,t.x,t.y,t.width,t.height):i&&("function"==typeof i?i(t,!0):s.addWidget(t))})),this.engine.removedNodes=n,this.commit()},t.prototype.batchUpdate=function(){return this.engine.batchUpdate(),this},t.prototype.getCellHeight=function(t){if(void 0===t&&(t=!1),this.opts.cellHeight&&"auto"!==this.opts.cellHeight&&(!t||!this.opts.cellHeightUnit||"px"===this.opts.cellHeightUnit))return this.opts.cellHeight;var e=this.el.querySelector("."+this.opts.itemClass),i=o.a.toNumber(e.getAttribute("data-gs-height"));return Math.round(e.offsetHeight/i)},t.prototype.cellHeight=function(t,e){void 0===e&&(e=!0);var i=o.a.parseHeight(t);return this.opts.cellHeightUnit===i.unit&&this.opts.cellHeight===i.height||(this.opts.cellHeightUnit=i.unit,this.opts.cellHeight=i.height,e&&this._updateStyles(!0),this._resizeNestedGrids(this.el)),this},t.prototype.cellWidth=function(){return this.el.offsetWidth/this.opts.column},t.prototype.commit=function(){return this.engine.commit(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent(),this},t.prototype.compact=function(){return this.engine.compact(),this._triggerChangeEvent(),this},t.prototype.column=function(t,e){if(this.opts.column===t)return this;var i=this.opts.column;if(1===t?this._prevColumn=i:delete this._prevColumn,this.el.classList.remove("grid-stack-"+i),this.el.classList.add("grid-stack-"+t),this.opts.column=this.engine.column=t,!0===e)return this;var s=void 0;return 1===t&&this.opts.oneColumnModeDomSort&&(s=[],this.getGridItems().forEach((function(t){t.gridstackNode&&s.push(t.gridstackNode)})),s.length||(s=void 0)),this.engine.updateNodeWidths(i,t,s),this._triggerChangeEvent(!0),this},t.prototype.getColumn=function(){return this.opts.column},t.prototype.getGridItems=function(){var t=this;return Array.from(this.el.children).filter((function(e){return e.matches("."+t.opts.itemClass)&&!e.matches("."+t.opts.placeholderClass)}))},t.prototype.destroy=function(t){return void 0===t&&(t=!0),this._updateWindowResizeEvent(!0),this.setStatic(!0),t?this.el.parentNode.removeChild(this.el):(this.removeAll(t),this.el.classList.remove(this.opts._class),delete this.el.gridstack),this._removeStylesheet(),delete this.engine,this},t.prototype.disable=function(){return this.enableMove(!1),this.enableResize(!1),this._triggerEvent("disable"),this},t.prototype.enable=function(){return this.enableMove(!0),this.enableResize(!0),this._triggerEvent("enable"),this},t.prototype.enableMove=function(t,e){var i=this;return void 0===e&&(e=!0),t&&this.opts.staticGrid||(this.getGridItems().forEach((function(e){return i.movable(e,t)})),e&&(this.opts.disableDrag=!t)),this},t.prototype.enableResize=function(t,e){var i=this;return void 0===e&&(e=!0),t&&this.opts.staticGrid||(this.getGridItems().forEach((function(e){return i.resizable(e,t)})),e&&(this.opts.disableResize=!t)),this},t.prototype.float=function(t){return this.engine.float=t,this._triggerChangeEvent(),this},t.prototype.getFloat=function(){return this.engine.float},t.prototype.getCellFromPixel=function(t,e){void 0===e&&(e=!1);var i,s=this.el.getBoundingClientRect();i=e?{top:s.top+document.documentElement.scrollTop,left:s.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};var o=t.left-i.left,n=t.top-i.top,r=s.width/this.opts.column,a=s.height/parseInt(this.el.getAttribute("data-gs-current-row"));return{x:Math.floor(o/r),y:Math.floor(n/a)}},t.prototype.getRow=function(){return Math.max(this.engine.getRow(),this.opts.minRow)},t.prototype.isAreaEmpty=function(t,e,i,s){return this.engine.isAreaEmpty(t,e,i,s)},t.prototype.locked=function(e,i){return t.getElements(e).forEach((function(t){var e=t.gridstackNode;e&&(e.locked=i||!1,e.locked?t.setAttribute("data-gs-locked","yes"):t.removeAttribute("data-gs-locked"))})),this},t.prototype.makeWidget=function(e){var i=t.getElement(e);return this._prepareElement(i,!0),this._updateContainerHeight(),this._triggerAddEvent(),this._triggerChangeEvent(),i},t.prototype.maxWidth=function(t,e){return this._updateAttr(t,e,"data-gs-max-width","maxWidth")},t.prototype.minWidth=function(t,e){return this._updateAttr(t,e,"data-gs-min-width","minWidth")},t.prototype.maxHeight=function(t,e){return this._updateAttr(t,e,"data-gs-max-height","maxHeight")},t.prototype.minHeight=function(t,e){return this._updateAttr(t,e,"data-gs-min-height","minHeight")},t.prototype.movable=function(e,i){var s=this;return i&&this.opts.staticGrid||t.getElements(e).forEach((function(t){var e=t.gridstackNode;e&&(e.noMove=!i,e.noMove?(s.dd.draggable(t,"disable"),t.classList.remove("ui-draggable-handle")):(s._prepareDragDropByNode(e),s.dd.draggable(t,"enable"),t.classList.remove("ui-draggable-handle")))})),this},t.prototype.move=function(t,e,i){var s=this;return this._updateElement(t,(function(t,o){e=void 0!==e?e:o.x,i=void 0!==i?i:o.y,s.engine.moveNode(o,e,i,o.width,o.height)})),this},t.prototype.on=function(t,e){var i=this;if(-1!==t.indexOf(" "))return t.split(" ").forEach((function(t){return i.on(t,e)})),this;if("change"===t||"added"===t||"removed"===t||"enable"===t||"disable"===t){var s="enable"===t||"disable"===t;this._gsEventHandler[t]=s?function(t){return e(t)}:function(t){return e(t,t.detail)},this.el.addEventListener(t,this._gsEventHandler[t])}else"dragstart"===t||"dragstop"===t||"resizestart"===t||"resizestop"===t||"dropped"===t?this._gsEventHandler[t]=e:console.log("GridStack.on("+t+') event not supported, but you can still use $(".grid-stack").on(...) while jquery-ui is still used internally.');return this},t.prototype.off=function(t){var e=this;return-1!==t.indexOf(" ")?(t.split(" ").forEach((function(t){return e.off(t)})),this):("change"!==t&&"added"!==t&&"removed"!==t&&"enable"!==t&&"disable"!==t||this._gsEventHandler[t]&&this.el.removeEventListener(t,this._gsEventHandler[t]),delete this._gsEventHandler[t],this)},t.prototype.removeWidget=function(e,i,s){var o=this;return void 0===i&&(i=!0),void 0===s&&(s=!0),t.getElements(e).forEach((function(t){if(t.parentElement===o.el){var e=t.gridstackNode;e||(e=o.engine.nodes.find((function(e){return t===e.el}))),e&&(delete t.gridstackNode,o.dd.remove(t),o.engine.removeNode(e,i,s),i&&t.parentElement&&t.remove())}})),s&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this},t.prototype.removeAll=function(t){var e=this;return void 0===t&&(t=!0),this.engine.nodes.forEach((function(t){delete t.el.gridstackNode,e.dd.remove(t.el)})),this.engine.removeAll(t),this._triggerRemoveEvent(),this},t.prototype.resize=function(t,e,i){var s=this;return this._updateElement(t,(function(t,o){e=e||o.width,i=i||o.height,s.engine.moveNode(o,o.x,o.y,e,i)})),this},t.prototype.resizable=function(e,i){var s=this;return i&&this.opts.staticGrid||t.getElements(e).forEach((function(t){var e=t.gridstackNode;e&&(e.noResize=!i,e.noResize?s.dd.resizable(t,"disable"):(s._prepareDragDropByNode(e),s.dd.resizable(t,"enable")))})),this},t.prototype.setAnimation=function(t){return t?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this},t.prototype.setStatic=function(t){var e=this;return this.opts.staticGrid===t||(this.opts.staticGrid=t,t?this.getGridItems().forEach((function(t){return e.dd.remove(t)})):this.engine.nodes.forEach((function(t){return e._prepareDragDropByNode(t)})),this._setStaticClass()),this},t.prototype.update=function(t,e,i,s,o){var n=this;return this._updateElement(t,(function(t,r){e=void 0!==e?e:r.x,i=void 0!==i?i:r.y,s=s||r.width,o=o||r.height,n.engine.moveNode(r,e,i,s,o)})),this},t.prototype.margin=function(t){var e=o.a.parseHeight(t);if(this.opts.marginUnit!==e.unit||this.opts.margin!==e.height)return this.opts.marginUnit=e.unit,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=this.opts.margin=e.height,this._updateStyles(!0),this},t.prototype.getMargin=function(){return this.opts.margin},t.prototype.willItFit=function(t,e,i,s,o){return this.engine.canBePlacedWithRespectToHeight({x:t,y:e,width:i,height:s,autoPosition:o})},t.prototype._triggerChangeEvent=function(t){if(this.engine.batchMode)return this;var e=this.engine.getDirtyNodes(!0);return e&&e.length&&(t||this.engine.layoutsNodesChange(e),this._triggerEvent("change",e)),this.engine.saveInitial(),this},t.prototype._triggerAddEvent=function(){return this.engine.batchMode||this.engine.addedNodes&&this.engine.addedNodes.length>0&&(this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach((function(t){delete t._dirty})),this._triggerEvent("added",this.engine.addedNodes),this.engine.addedNodes=[]),this},t.prototype._triggerRemoveEvent=function(){return this.engine.batchMode||this.engine.removedNodes&&this.engine.removedNodes.length>0&&(this._triggerEvent("removed",this.engine.removedNodes),this.engine.removedNodes=[]),this},t.prototype._triggerEvent=function(t,e){var i=e?new CustomEvent(t,{bubbles:!1,detail:e}):new Event(t);return this.el.dispatchEvent(i),this},t.prototype._removeStylesheet=function(){return this._styles&&(o.a.removeStylesheet(this._styles._id),delete this._styles),this},t.prototype._updateStyles=function(t,e){if(void 0===t&&(t=!1),t&&this._removeStylesheet(),this._updateContainerHeight(),!this.opts.cellHeight)return this;var i=this.opts.cellHeight,s=this.opts.cellHeightUnit,n="."+this.opts._class+" > ."+this.opts.itemClass;if(!this._styles){var r="gridstack-style-"+(1e5*Math.random()).toFixed(),a=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=o.a.createStylesheet(r,a),!this._styles)return this;this._styles._id=r,this._styles._max=0,o.a.addCSSRule(this._styles,n,"min-height: "+i+s);var h=this.opts.marginTop+this.opts.marginUnit,l=this.opts.marginBottom+this.opts.marginUnit,d=this.opts.marginRight+this.opts.marginUnit,p=this.opts.marginLeft+this.opts.marginUnit,u=n+" > .grid-stack-item-content",c="."+this.opts._class+" > .grid-stack-placeholder > .placeholder-content";o.a.addCSSRule(this._styles,u,"top: "+h+"; right: "+d+"; bottom: "+l+"; left: "+p+";"),o.a.addCSSRule(this._styles,c,"top: "+h+"; right: "+d+"; bottom: "+l+"; left: "+p+";"),o.a.addCSSRule(this._styles,n+" > .ui-resizable-ne","right: "+d),o.a.addCSSRule(this._styles,n+" > .ui-resizable-e","right: "+d),o.a.addCSSRule(this._styles,n+" > .ui-resizable-se","right: "+d+"; bottom: "+l),o.a.addCSSRule(this._styles,n+" > .ui-resizable-nw","left: "+p),o.a.addCSSRule(this._styles,n+" > .ui-resizable-w","left: "+p),o.a.addCSSRule(this._styles,n+" > .ui-resizable-sw","left: "+p+"; bottom: "+l)}if((e=e||this._styles._max)>this._styles._max){for(var g=function(t){return i*t+s},f=this._styles._max+1;f<=e;f++){var m=g(f);o.a.addCSSRule(this._styles,n+'[data-gs-y="'+(f-1)+'"]',"top: "+g(f-1)),o.a.addCSSRule(this._styles,n+'[data-gs-height="'+f+'"]',"height: "+m),o.a.addCSSRule(this._styles,n+'[data-gs-min-height="'+f+'"]',"min-height: "+m),o.a.addCSSRule(this._styles,n+'[data-gs-max-height="'+f+'"]',"max-height: "+m)}this._styles._max=e}return this},t.prototype._updateContainerHeight=function(){if(!this.engine||this.engine.batchMode)return this;var t=this.getRow(),e=parseInt(getComputedStyle(this.el)["min-height"]);if(e>0){var i=Math.round(e/this.getCellHeight(!0));t<i&&(t=i)}if(this.el.setAttribute("data-gs-current-row",String(t)),0===t)return this.el.style.removeProperty("height"),this;var s=this.opts.cellHeight,o=this.opts.cellHeightUnit;return s?(this.el.style.height=t*s+o,this):this},t.prototype._setupRemovingTimeout=function(t){var e=t.gridstackNode;return e&&!e._removeTimeout&&this.opts.removable?(e._removeTimeout=setTimeout((function(){t.classList.add("grid-stack-item-removing"),e._isAboutToRemove=!0}),this.opts.removeTimeout),this):this},t.prototype._clearRemovingTimeout=function(t){var e=t.gridstackNode;return e&&e._removeTimeout?(clearTimeout(e._removeTimeout),delete e._removeTimeout,t.classList.remove("grid-stack-item-removing"),delete e._isAboutToRemove,this):this},t.prototype._prepareDragDropByNode=function(t){var e=this;if(!(t._initDD||this.opts.staticGrid||(t.noMove||this.opts.disableDrag)&&(t.noResize||this.opts.disableResize))){var i,s,n=t.el,r=function(o,r){var a=o.target;e._gsEventHandler[o.type]&&e._gsEventHandler[o.type](o,a),e.engine.cleanNodes(),e.engine.beginUpdate(t),i=e.cellWidth(),s=e.getCellHeight(!0),e.placeholder.setAttribute("data-gs-x",a.getAttribute("data-gs-x")),e.placeholder.setAttribute("data-gs-y",a.getAttribute("data-gs-y")),e.placeholder.setAttribute("data-gs-width",a.getAttribute("data-gs-width")),e.placeholder.setAttribute("data-gs-height",a.getAttribute("data-gs-height")),e.el.append(e.placeholder),t.el=e.placeholder,t._beforeDragX=t.x,t._beforeDragY=t.y,t._prevYPix=r.position.top,e.dd.resizable(n,"option","minWidth",i*(t.minWidth||1)),e.dd.resizable(n,"option","minHeight",s*(t.minHeight||1))},a=function(r,a){var h,l,d=Math.round(a.position.left/i),p=Math.floor((a.position.top+s/2)/s);if("drag"===r.type){var u=a.position.top-t._prevYPix;if(t._prevYPix=a.position.top,o.a.updateScrollPosition(n,a.position,u),n.dataset.inTrashZone||d<0||d>=e.engine.column||p<0||!e.engine.float&&p>e.engine.getRow()||t._added){if(t._temporaryRemoved)return;!0===e.opts.removable&&e._setupRemovingTimeout(n),d=t._beforeDragX,p=t._beforeDragY,e.placeholder.parentNode===e.el&&e.placeholder.remove(),e.engine.removeNode(t),e._updateContainerHeight(),t._temporaryRemoved=!0,delete t._added}else e._clearRemovingTimeout(n),t._temporaryRemoved&&(e.engine.addNode(t),e._writeAttrs(e.placeholder,d,p,h,l),e.el.appendChild(e.placeholder),t.el=e.placeholder,delete t._temporaryRemoved)}else if("resize"===r.type){if(d<0)return;h=Math.round(a.size.width/i),l=Math.round((a.size.height+e.getMargin())/s)}var c=h||t._lastTriedWidth,g=l||t._lastTriedHeight;!e.engine.canMoveNode(t,d,p,h,l)||t._lastTriedX===d&&t._lastTriedY===p&&t._lastTriedWidth===c&&t._lastTriedHeight===g||(t._lastTriedX=d,t._lastTriedY=p,t._lastTriedWidth=h,t._lastTriedHeight=l,e.engine.moveNode(t,d,p,h,l),e._updateContainerHeight())},h=function(i){e.placeholder.parentNode===e.el&&e.placeholder.remove();var s=i.target;if(s.gridstackNode&&s.gridstackNode.grid===e){if(t.el=s,t._isAboutToRemove){var r=n.gridstackNode.grid;r._gsEventHandler[i.type]&&r._gsEventHandler[i.type](i,s),r.engine.removedNodes.push(t),r.dd.remove(n),delete n.gridstackNode,r._triggerRemoveEvent(),n.parentElement&&n.remove()}else e._clearRemovingTimeout(n),t._temporaryRemoved?(o.a.removePositioningStyles(s),e._writeAttrs(s,t._beforeDragX,t._beforeDragY,t.width,t.height),t.x=t._beforeDragX,t.y=t._beforeDragY,delete t._temporaryRemoved,e.engine.addNode(t)):(o.a.removePositioningStyles(s),e._writeAttrs(s,t.x,t.y,t.width,t.height)),e._gsEventHandler[i.type]&&e._gsEventHandler[i.type](i,s);e._updateContainerHeight(),e._triggerChangeEvent(),e.engine.endUpdate(),"resizestop"===i.type&&e._resizeNestedGrids(s)}};return this.dd.draggable(n,{start:r,stop:h,drag:a}).resizable(n,{start:r,stop:h,resize:a}),t._initDD=!0,(t.noMove||this.opts.disableDrag||this.opts.staticGrid)&&this.dd.draggable(n,"disable"),(t.noResize||this.opts.disableResize||this.opts.staticGrid)&&this.dd.resizable(n,"disable"),this}},t.prototype._resizeNestedGrids=function(t){return t.querySelectorAll(".grid-stack").forEach((function(t){t.gridstack&&t.gridstack.onParentResize()})),this},t.prototype._prepareElement=function(t,e){void 0===e&&(e=!1),t.classList.add(this.opts.itemClass);var i=this._readAttr(t,{el:t,grid:this});return i=this.engine.addNode(i,e),t.gridstackNode=i,this._writeAttr(t,i),this._prepareDragDropByNode(i),this},t.prototype._writeAttrs=function(t,e,i,s,o){return null!=e&&t.setAttribute("data-gs-x",String(e)),null!=i&&t.setAttribute("data-gs-y",String(i)),s&&t.setAttribute("data-gs-width",String(s)),o&&t.setAttribute("data-gs-height",String(o)),this},t.prototype._writeAttr=function(t,e){return e?(this._writeAttrs(t,e.x,e.y,e.width,e.height),e.autoPosition?t.setAttribute("data-gs-auto-position","true"):t.removeAttribute("data-gs-auto-position"),e.minWidth&&t.setAttribute("data-gs-min-width",String(e.minWidth)),e.maxWidth&&t.setAttribute("data-gs-max-width",String(e.maxWidth)),e.minHeight&&t.setAttribute("data-gs-min-height",String(e.minHeight)),e.maxHeight&&t.setAttribute("data-gs-max-height",String(e.maxHeight)),e.noResize?t.setAttribute("data-gs-no-resize","true"):t.removeAttribute("data-gs-no-resize"),e.noMove?t.setAttribute("data-gs-no-move","true"):t.removeAttribute("data-gs-no-move"),e.locked?t.setAttribute("data-gs-locked","true"):t.removeAttribute("data-gs-locked"),e.resizeHandles&&t.setAttribute("data-gs-resize-handles",e.resizeHandles),e.id&&t.setAttribute("data-gs-id",String(e.id)),this):this},t.prototype._readAttr=function(t,e){return void 0===e&&(e={}),e.x=o.a.toNumber(t.getAttribute("data-gs-x")),e.y=o.a.toNumber(t.getAttribute("data-gs-y")),e.width=o.a.toNumber(t.getAttribute("data-gs-width")),e.height=o.a.toNumber(t.getAttribute("data-gs-height")),e.maxWidth=o.a.toNumber(t.getAttribute("data-gs-max-width")),e.minWidth=o.a.toNumber(t.getAttribute("data-gs-min-width")),e.maxHeight=o.a.toNumber(t.getAttribute("data-gs-max-height")),e.minHeight=o.a.toNumber(t.getAttribute("data-gs-min-height")),e.autoPosition=o.a.toBool(t.getAttribute("data-gs-auto-position")),e.noResize=o.a.toBool(t.getAttribute("data-gs-no-resize")),e.noMove=o.a.toBool(t.getAttribute("data-gs-no-move")),e.locked=o.a.toBool(t.getAttribute("data-gs-locked")),e.resizeHandles=t.getAttribute("data-gs-resize-handles"),e.id=t.getAttribute("data-gs-id"),e},t.prototype._updateElement=function(e,i){var s=t.getElement(e);if(!s)return this;var o=s.gridstackNode;return o?(this.engine.cleanNodes(),this.engine.beginUpdate(o),i.call(this,s,o),this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),this):this},t.prototype._setStaticClass=function(){return this.opts.staticGrid?this.el.classList.add("grid-stack-static"):this.el.classList.remove("grid-stack-static"),this},t.prototype.onParentResize=function(){var t=this;if(this._isAutoCellHeight&&o.a.throttle((function(){var e=-t.opts.marginRight-t.opts.marginLeft+t.opts.marginTop+t.opts.marginBottom;t.cellHeight(t.cellWidth()+e)}),100),!this.opts.disableOneColumnMode&&this.el.clientWidth<=this.opts.minWidth){if(this._oneColumnMode)return this;this._oneColumnMode=!0,this.column(1),this._resizeNestedGrids(this.el)}else{if(!this._oneColumnMode)return this;delete this._oneColumnMode,this.column(this._prevColumn),this._resizeNestedGrids(this.el)}return this},t.prototype._updateWindowResizeEvent=function(t){void 0===t&&(t=!1);var e=this._isAutoCellHeight||!this.opts.disableOneColumnMode;return!e||t||this.opts._isNested||this._windowResizeBind?!t&&e||!this._windowResizeBind||(window.removeEventListener("resize",this._windowResizeBind),delete this._windowResizeBind):(this._windowResizeBind=this.onParentResize.bind(this),window.addEventListener("resize",this._windowResizeBind)),this},t.prototype._setupDragIn=function(){return this.opts.staticGrid||"string"!=typeof this.opts.dragIn||this.dd.isDraggable(this.opts.dragIn)||this.dd.dragIn(this.opts.dragIn,this.opts.dragInOptions),this},t.prototype._setupRemoveDrop=function(){var t=this;if(!this.opts.staticGrid&&"string"==typeof this.opts.removable){var e=document.querySelector(this.opts.removable);if(!e)return this;this.dd.isDroppable(e)||this.dd.droppable(e,this.opts.removableOptions),this.dd.on(e,"dropover",(function(e,i){var s=i.gridstackNode;s&&s.grid===t&&(i.dataset.inTrashZone="true",t._setupRemovingTimeout(i))})).on(e,"dropout",(function(e,i){var s=i.gridstackNode;s&&s.grid===t&&(delete i.dataset.inTrashZone,t._clearRemovingTimeout(i))}))}return this},t.prototype._setupAcceptWidget=function(){var t=this;if(this.opts.staticGrid||!this.opts.acceptWidgets)return this;var e=function(e,i){var s=i.gridstackNode,o=t.getCellFromPixel({left:e.pageX,top:e.pageY},!0),n=Math.max(0,o.x),r=Math.max(0,o.y);s._added?n===s.x&&r===s.y||!t.engine.canMoveNode(s,n,r)||(t.engine.moveNode(s,n,r),t._updateContainerHeight()):(s._added=!0,s.el=i,s.x=n,s.y=r,delete s.autoPosition,t.engine.cleanNodes(),t.engine.beginUpdate(s),t.engine.addNode(s),t._writeAttrs(t.placeholder,s.x,s.y,s.width,s.height),t.el.appendChild(t.placeholder),s.el=t.placeholder,s._beforeDragX=s.x,s._beforeDragY=s.y,t._updateContainerHeight())};return this.dd.droppable(this.el,{accept:function(e){var i=e.gridstackNode;if(i&&i.grid===t)return!1;if("function"==typeof t.opts.acceptWidgets)return t.opts.acceptWidgets(e);var s=!0===t.opts.acceptWidgets?".grid-stack-item":t.opts.acceptWidgets;return e.matches(s)}}).on(this.el,"dropover",(function(i,s){var o=s.gridstackNode||{};if(!o.width||!o.height){var n=parseInt(s.getAttribute("data-gs-width"));n>0&&(o.width=n);var r=parseInt(s.getAttribute("data-gs-height"));r>0&&(o.height=r)}o.grid&&o.grid!==t&&(o._added=!0);var a=o.width||Math.round(s.offsetWidth/t.cellWidth())||1,l=o.height||Math.round(s.offsetHeight/t.getCellHeight(!0))||1,d=t.engine.prepareNode(h({},o,{width:a,height:l,_added:!1,_temporary:!0}));return d._isOutOfGrid=!0,s.gridstackNode=d,s._gridstackNodeOrig=o,t.dd.on(s,"drag",e),!1})).on(this.el,"dropout",(function(e,i){var s=i.gridstackNode;if(s&&s._isOutOfGrid)return t.dd.off(i,"drag"),s.el=null,t.engine.removeNode(s),t.placeholder.parentNode===t.el&&t.placeholder.remove(),t._updateContainerHeight(),i.gridstackNode=i._gridstackNodeOrig,!1})).on(this.el,"drop",(function(e,i,s){t.placeholder.remove();var n=i._gridstackNodeOrig;if(delete i._gridstackNodeOrig,n&&n.grid&&n.grid!==t){var r=n.grid;r.placeholder.remove(),n.el=i,r.engine.removedNodes.push(n),r._triggerRemoveEvent()}var a=i.gridstackNode,h=a._id;return t.engine.cleanupNode(a),a._id=h,a.grid=t,t.dd.off(i,"drag"),s!==i?(s.remove(),i.gridstackNode=n,i=i.cloneNode(!0)):(i.remove(),t.dd.remove(i)),i.gridstackNode=a,a.el=i,o.a.removePositioningStyles(i),t._writeAttr(i,a),t.el.appendChild(i),t._updateContainerHeight(),t.engine.addedNodes.push(a),t._triggerAddEvent(),t._triggerChangeEvent(),t.engine.endUpdate(),t._gsEventHandler.dropped&&t._gsEventHandler.dropped({type:"dropped"},n&&n.grid?n:void 0,a),window.setTimeout((function(){a.el&&a.el.parentElement&&t._prepareDragDropByNode(a)})),!1})),this},t.getElement=function(t){if(void 0===t&&(t=".grid-stack-item"),"string"==typeof t){var e=document.querySelector(t);return e||"."===t[0]||"#"===t[0]||(e=document.querySelector("#"+t))||(e=document.querySelector("."+t)),e}return t},t.getElements=function(t){if(void 0===t&&(t=".grid-stack-item"),"string"==typeof t){var e=document.querySelectorAll(t);return e.length||"."===t[0]||"#"===t[0]||(e=document.querySelectorAll("."+t)).length||(e=document.querySelectorAll("#"+t)),Array.from(e)}return[t]},t.getGridElement=function(e){return void 0===e&&(e=".grid-stack"),t.getElement(e)},t.getGridElements=function(e){return void 0===e&&(e=".grid-stack"),t.getElements(e)},t.prototype.initMargin=function(){var t=o.a.parseHeight(this.opts.margin);this.opts.marginUnit=t.unit;var e=this.opts.margin=t.height;return void 0===this.opts.marginTop?this.opts.marginTop=e:(t=o.a.parseHeight(this.opts.marginTop),this.opts.marginTop=t.height,delete this.opts.margin),void 0===this.opts.marginBottom?this.opts.marginBottom=e:(t=o.a.parseHeight(this.opts.marginBottom),this.opts.marginBottom=t.height,delete this.opts.margin),void 0===this.opts.marginRight?this.opts.marginRight=e:(t=o.a.parseHeight(this.opts.marginRight),this.opts.marginRight=t.height,delete this.opts.margin),void 0===this.opts.marginLeft?this.opts.marginLeft=e:(t=o.a.parseHeight(this.opts.marginLeft),this.opts.marginLeft=t.height,delete this.opts.margin),this.opts.marginUnit=t.unit,this},t.prototype._updateAttr=function(e,i,s,o){return t.getElements(e).forEach((function(t){i?t.setAttribute(s,String(i)):t.removeAttribute(s),t.gridstackNode&&(t.gridstackNode[o]=i||void 0)})),this},t.Utils=o.a,t.Engine=s.a,t}()}]).GridStack}));
//# sourceMappingURL=gridstack.all.js.map